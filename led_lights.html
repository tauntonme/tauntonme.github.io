<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Signals at West Buckland Railway</title>
	<meta name="description" content="'Brushless Brute' and 'Wedge' locomotives, days out in the park in Taunton and Bristol">
	<link rel="stylesheet" media="screen" href="s1.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Jon Freeman">
	<meta name="robots" content="all">
	<link href="http://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet" type="text/css">
</head>
<body>
<h2><b>Signals for West Buckland Miniature Railway</b></h2>
<h4>The purpose of the signalling system is to promote safer running of the railway.</h4>
<br />
<h4>LED Signals</h4>
<p>Being much lower cost and easier to make than semaphores, LED light signals are the default used on our railways.</p>
	<p>A first trial printed circuit board was designed using low-cost, low-power dual colour red/green leds.  No surprise, this was considered to be 'not bright enough'.
  Lesson learned, a new design was sought, but there are ways of going about these things.</p>
	<p>Experience has shown it can be unwise to source anything from unknown sources on the popular internet sales sites. 
    A more professional approach would involve looking at what's offered by reliable industrial component distributors (R.S., Farnell, Mouser etc),
   and choosing parts in volume production, from preferably more than one source.</p>
<br />
	<figure class="polnp" style="float:left; width: 50%;border:16">
		<a target="_blank" href="img/LED_only_Disc23.jpg">
			<img src="img/LED_only_Disc23.jpg" style="width: 100%;border:10">
		</a>
		<figcaption>Signal LED Module - CAD Image - Bryter Layter</figcaption>
	</figure>
  <p>Single or multi colour, in short, a multi-colour device was selected, available from Cree
	  <a href="https://www.mouser.co.uk/datasheet/2/723/CLQ6B_TKW-2887154.pdf" target="_blank">(see data)</a>
	  and Osram
	  <a href="https://www.farnell.com/datasheets/3749809.pdf" target="_blank">(see data)</a>
	  . These contain four light sources - red, green, blue and white.
  These are designed for use in lighting, are five to ten times (depending how you measure it) brighter than our previous choices, and a board was designed
  to contain eight such devices. One potential problem, and the reason for our unsatisfactory first choice, whereas they could be soldered by human using a decent soldering iron,
  these newer devices are 'surface mount' with the connecting pads hidden underneath - you can't get an iron in there! 
    Fortunately we have found a company in Somerset capable of doing this for us.</p>
<p>A two inch square board with LEDs mounted is part of the job.  Each LED will need to be supplied with a reasonably well regulated current to produce the light output we want,
   and these need to be switched from the signalling control system. Series resistors could be used, but we need to allow for power supply voltage fluctuations,
 without altering the brightness of the signal too much.</p>
	<p>The eight LEDs are connected as a pair of series connected sets of four, in parallel.  The small resistors shown ensure currents in each set are
	substantialy the same.  This configuration should work well with supply voltage of 12V or above.</p>
  <p>Interrogating industrial component suppliers, a search was made for 'LED drivers', and an eminently suitable low cost (£0.65), variable brightness driver was found, 
  <a href="https://www.diodes.com/assets/Datasheets/AL8863.pdf" target="_blank">AL8863SP.</a></p>
  <p>With few extra components, four of these can accurately control the current to each of the four colours of LED.</p>
  <p>Driven by four pulse width modulator controller outputs, the lights are controllable to produce any blend of colours at all possible intensities.
  This is probably more than strictly needed for our signals, but provides a versatile platform for evaluation.</p>
<br />

	<figure class="polnp" style="float:left; width: 50%;border:16">
		<a target="_blank" href="img/LED_Driver23_sch.png">
			<img src="img/LED_Driver23_sch.png" style="width: 100%;border:10">
		</a>
		<figcaption>Multicolour LED Controller - Schematic</figcaption>
	</figure>
<br />
	<p>The 'Multicolour LED Controller' schematic includes a full CAN bus interface.</p>
	<p>We have the choice of two methods of wiring all the site connections.  We could wire each item individually back to a central signal 'box'.  
		This would mean combining many twisted pairs (or whatever) into a big fat bundle entering the signal box.  This is the mid-20th century telephone exchange method.</p>
	<p>Alternatively, we can design a CAN bus interface into points, signals and any item of signalling equipment.  This requires just one twisted pair, daisy chaining all items where ever they are.  One aditional wire pair is required for power.</p>
	<p>Clearly, the simplicity of a full CAN bus implimentation is attractive, the down side being greater expense at every node (about £10 or thereabouts).</p>
	<p>The final outcome will be a mix-and-match, with, for example, the telephone exchange model used exclusively on the level crossing where cable runs are short,
	 with CAN bus devices at more distant positions.</p>
	<p>For lineside railway signals, whether LED or semaphore, the CAN bus interface is preferred as it requires only four electrical connections.  A non-CAN bus signal requires six.
	 If signal heads are regularly removed, a robust reasonably weather-proof connector will be needed. In this case four pole is preferred.</p>
	<figure class="polnp" style="float:left; width: 50%;border:16">
		<a target="_blank" href="img/LED_Driver23_pcb.png">
			<img src="img/LED_Driver23_pcb.png" style="width: 100%;border:10">
		</a>
		<figcaption>Multicolour LED Controller - PCB</figcaption>
	</figure>
<br />
	<p>Update March 2024 - Have now procured the PCBs and all components.  The prototype signal head consists of two 'piggy-backed' circuit boards, a controller system and the display boards.  Controllers were assembled 'in house', but the LED panels use surface mount devices that can not be soldered using traditional hand-soldering. Instead, the job of assembling a batch of 10 was offered to Circuitbase Ltd of Bridgwater.  Tiago, the main man there, was most helpful.  They did a great job, delivering 10 superbly assembled boards in double-quick time.  Excellent service, more work will surely be put their way. Well done!</p>
	<figure class="polnp" style="float:left; width: 50%;border:16">
		<a target="_blank" href="img/Assembled_LED_board.png">
			<img src="img/Assembled_LED_board.png" style="width: 100%;border:10">
		</a>
		<figcaption>LED board built at Circuitbase, Bridgwater</figcaption>
	</figure>
	<p>For further information, see our video on <a href="https://www.facebook.com/jon.freeman.31105/videos/722360803412973" target="_blank">Facebook</a></p>
<br />
</body>
</html>
